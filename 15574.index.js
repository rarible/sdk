"use strict";(self.webpackChunkexample=self.webpackChunkexample||[]).push([[10560,15574,53140],{26033:(t,e,n)=>{n.d(e,{DG:()=>a,Y4:()=>r,dw:()=>o});const a="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee";function o(t){return t.toLowerCase()===a}const r="0x0000000000000000000000000000000000000000"},15574:(t,e,n)=>{n.r(e),n.d(e,{ADDRESS_ZERO:()=>a.Y4,NATIVE_TOKEN_ADDRESS:()=>a.DG,boolToBytes:()=>r.$u,boolToHex:()=>i.$P,bytesToBigInt:()=>vt,bytesToBool:()=>Tt,bytesToNumber:()=>It,bytesToString:()=>At,concatHex:()=>yt,createThirdwebClient:()=>h,defineChain:()=>m.xH,encode:()=>U.encode,estimateGas:()=>M.Q,eth_blockNumber:()=>g.D,eth_call:()=>w.F,eth_estimateGas:()=>y.eth_estimateGas,eth_gasPrice:()=>b.r,eth_getBalance:()=>B.d,eth_getBlockByHash:()=>k.t,eth_getBlockByNumber:()=>v.w,eth_getCode:()=>T.u,eth_getLogs:()=>I.I,eth_getStorageAt:()=>A.D,eth_getTransactionByHash:()=>x.S,eth_getTransactionCount:()=>P.eth_getTransactionCount,eth_getTransactionReceipt:()=>_.l,eth_maxPriorityFeePerGas:()=>E.H,eth_sendRawTransaction:()=>S.B,fromBytes:()=>kt,fromGwei:()=>at.bl,fromHex:()=>i.aD,getAddress:()=>Pt.bv,getBuyWithCryptoHistory:()=>wt,getBuyWithCryptoQuote:()=>ft,getBuyWithCryptoStatus:()=>gt,getContract:()=>C.P,getContractEvents:()=>et,getRpcClient:()=>f.getRpcClient,hexToBigInt:()=>i.uU,hexToBool:()=>i.Nx,hexToBytes:()=>r.aT,hexToNumber:()=>i.ME,hexToString:()=>i.IQ,hexToUint8Array:()=>i.AS,isAddress:()=>Pt.PW,isBaseTransactionOptions:()=>R,isHex:()=>c.q,keccak256:()=>xt.S,numberToBytes:()=>r.WG,numberToHex:()=>i.cK,padHex:()=>i.db,parseEventLogs:()=>tt.p,prepareContractCall:()=>G.m,prepareEvent:()=>Z.m,prepareTransaction:()=>N.prepareTransaction,readContract:()=>$.readContract,resolveMethod:()=>D,sendAndConfirmTransaction:()=>F,sendBatchTransaction:()=>K,sendTransaction:()=>W.sendTransaction,serializeTransaction:()=>X.b,sha256:()=>u,signTransaction:()=>O.W,simulateTransaction:()=>Q,stringToBytes:()=>r.Af,stringToHex:()=>i.i3,toBytes:()=>r.ZJ,toEther:()=>at.Ce,toHex:()=>i.nj,toTokens:()=>at.ow,toUnits:()=>at.J1,toWei:()=>at.fq,uint8ArrayToHex:()=>i.EY,waitForReceipt:()=>q.L,watchBlockNumber:()=>p.q,watchContractEvents:()=>nt});var a=n(26033),o=n(70926),r=n(48412),s=n(52001),c=n(75385),i=n(99280);function u(t,e){const n=(0,s.s)((0,c.q)(t,{strict:!1})?(0,i.AS)(t):t);return"bytes"===e?n:(0,i.EY)(n)}const l=new o.A(4096);function d(t){if(l.has(t))return l.get(t);const e=u((0,r.Af)(t)).slice(2,34);return l.set(t,e),e}function h(t){const{clientId:e,secretKey:n,...a}=t;if(n)return{...a,clientId:d(n),secretKey:n};if(e)return{...a,clientId:t.clientId,secretKey:void 0};throw new Error("clientId or secretKey must be provided")}var m=n(74027),f=n(36223),p=n(75450),g=n(53255),w=n(92659),y=n(10560),b=n(79113),B=n(63283),k=n(56175),v=n(94266),T=n(28534),I=n(44584),A=n(21435),x=n(87106),P=n(53140),_=n(23058),E=n(89845),S=n(7795),C=n(12506),N=n(4558),H=n(65176);function R(t){return(0,H.C)(t,["__contract"])&&(0,H.C)(t.__contract,["address","chain"])&&"string"==typeof t.__contract.address}var G=n(49255),$=n(18333),L=n(59174);function D(t){return async e=>{const n=(await(0,L.XR)(e)).find((e=>"function"===e.type&&e.name===t));if(!n)throw new Error(`could not find function with name "${t}" in abi`);return n}}var U=n(20408),M=n(58296),W=n(13892),q=n(50099);async function F(t){const e=await(0,W.sendTransaction)(t);return(0,q.L)(e)}var z=n(23903);async function K(t){const{account:e,transactions:n}=t;if(!e)throw new Error("not connected");if(0===n.length)throw new Error("No transactions to send");const a=n[0];if(!a)throw new Error("No transactions to send");if(e.sendBatchTransaction){const t=await Promise.all(n.map((async t=>{const[e,n,a,o]=await Promise.all([(0,U.encode)(t),(0,z.r)(t.to),(0,z.r)(t.accessList),(0,z.r)(t.value)]);return{data:e,chainId:t.chain.id,to:n,value:o,accessList:a}})));return{...await e.sendBatchTransaction(t),chain:a.chain,client:a.client}}throw new Error("Account doesn't implement sendBatchTransaction")}var j=n(16590),Y=n(32634),J=n(11734);async function Q(t){const[e,n,a,o]=await Promise.all([(0,U.encode)(t.transaction),(0,z.r)(t.transaction.to),(0,z.r)(t.transaction.accessList),(0,z.r)(t.transaction.value)]),r=t.from??t.account?.address??void 0,s=(0,j.Bv)({data:e,from:r,to:n,value:o,accessList:a}),c=(0,f.getRpcClient)(t.transaction);try{const e=await(0,w.F)(c,s);if(!t.transaction.__preparedMethod)return e;const n=await t.transaction.__preparedMethod(),a=(0,Y.n)(n[2],e);return Array.isArray(a)&&1===a.length?a[0]:a}catch(e){throw await(0,J.c)({error:e,contract:t.transaction.__contract})}}var O=n(33618),X=n(48244),Z=n(47981),V=n(10537),tt=n(29114);async function et(t){const{contract:e,events:n,blockRange:a,...o}=t,r=(0,f.getRpcClient)(e);if(o.blockHash&&(a||o.fromBlock||o.toBlock))throw new Error("Cannot specify blockHash and range simultaneously,");const s=await(0,g.D)(r);if(a){const{fromBlock:t,toBlock:e}=o;if(t&&e&&BigInt(e)-BigInt(t)!==BigInt(a))throw new Error("Incompatible blockRange with specified fromBlock and toBlock. Please only define fromBlock or toBlock when specifying blockRange.");t?o.toBlock=BigInt(t)+BigInt(a)-1n:e?o.fromBlock=BigInt(e)-BigInt(a)+1n:(o.toBlock=s,o.fromBlock=s-BigInt(a)+1n)}let c=n??[];!n?.length&&e&&(c=e.abi?.length?e.abi.filter(V.N).map((t=>(0,Z.m)({signature:t}))):(await(0,L.XR)(e)).filter(V.N).map((t=>(0,Z.m)({signature:t}))));const i=n&&n.length>0?n.map((t=>({...o,address:e?.address,topics:t.topics}))):[{...o,address:e?.address}],u=(await Promise.all(i.map((t=>(0,I.I)(r,t))))).flatMap((t=>t)).sort(((t,e)=>Number((t.blockNumber??0n)-(e.blockNumber??0n))));return(0,tt.p)({logs:u,events:c})}function nt(t){return(0,p.q)({...t.contract,onNewBlockNumber:async e=>{const n=await et({...t,fromBlock:e,toBlock:e});n.length&&t.onEvents(n)},latestBlockNumber:t.latestBlockNumber})}var at=n(79938);const ot="0x095ea7b3",rt=[{type:"address",name:"spender"},{type:"uint256",name:"value"}],st=[{type:"bool"}];function ct(t){return function(t){const e=function(e){let n;return()=>(n||(n=(async()=>"asyncParams"in t?await t.asyncParams():t)()),n)}();return(0,G.m)({contract:t.contract,method:[ot,rt,st],params:async()=>{const t=await e();return[t.spender,t.value]},value:async()=>(await e()).overrides?.value,accessList:async()=>(await e()).overrides?.accessList,gas:async()=>(await e()).overrides?.gas,gasPrice:async()=>(await e()).overrides?.gasPrice,maxFeePerGas:async()=>(await e()).overrides?.maxFeePerGas,maxPriorityFeePerGas:async()=>(await e()).overrides?.maxPriorityFeePerGas,nonce:async()=>(await e()).overrides?.nonce,extraGas:async()=>(await e()).overrides?.extraGas})}({contract:t.contract,asyncParams:async()=>{let e;if("amount"in t){const{decimals:a}=await n.e(92034).then(n.bind(n,92034)),o=await a(t).catch((()=>18));e=(0,at.J1)(t.amount.toString(),o)}else e=t.amountWei;return{spender:t.spender,value:e}}})}var it=n(27238),ut=n(5675);const lt=()=>`https://${(0,ut.JD)().pay}/buy-with-crypto/status/v1`,dt=()=>`https://${(0,ut.JD)().pay}/buy-with-crypto/quote/v1`,ht=()=>`https://${(0,ut.JD)().pay}/buy-with-crypto/history/v1`;var mt=n(4364);async function ft(t){try{const e=new URLSearchParams({fromAddress:t.fromAddress,fromChainId:t.fromChainId.toString(),fromTokenAddress:t.fromTokenAddress.toLowerCase(),toChainId:t.toChainId.toString(),toTokenAddress:t.toTokenAddress.toLowerCase()});"fromAmount"in t&&t.fromAmount&&e.append("fromAmount",t.fromAmount),"toAmount"in t&&t.toAmount&&e.append("toAmount",t.toAmount),t.maxSlippageBPS&&e.append("maxSlippageBPS",t.maxSlippageBPS.toString()),t.intentId&&e.append("intentId",t.intentId);const n=e.toString(),a=`${dt()}?${n}`,o=await(0,it.KI)(t.client)(a);if(!o.ok){const t=await o.json();if(t&&"error"in t&&"object"==typeof t.error&&"message"in t.error)throw new Error(t.error.message);throw new Error(`HTTP error! status: ${o.status}`)}const r=(await o.json()).result;return{transactionRequest:{chain:(0,m.Q4)(r.transactionRequest.chainId),client:t.client,data:r.transactionRequest.data,to:r.transactionRequest.to,value:BigInt(r.transactionRequest.value),gas:BigInt(r.transactionRequest.gasLimit),gasPrice:BigInt(r.transactionRequest.gasPrice)},approval:r.approval?ct({contract:(0,C.P)({client:t.client,address:r.approval.tokenAddress,chain:(0,m.Q4)(r.approval.chainId)}),spender:r.approval?.spenderAddress,amountWei:BigInt(r.approval.amountWei)}):void 0,swapDetails:{fromAddress:r.fromAddress,toAddress:r.toAddress,fromToken:r.fromToken,toToken:r.toToken,fromAmount:r.fromAmount,fromAmountWei:r.fromAmountWei,toAmountMinWei:r.toAmountMinWei,toAmountMin:r.toAmountMin,toAmountWei:r.toAmountWei,toAmount:r.toAmount,estimated:r.estimated,maxSlippageBPS:r.maxSlippageBPS},paymentTokens:r.paymentTokens,processingFees:r.processingFees,client:t.client}}catch(t){throw mt.error("Fetch error:",t),new Error(`Fetch failed: ${t}`)}}var pt=n(4364);async function gt(t){try{if(!t.transactionHash)throw new Error("Transaction hash is required");const e=new URLSearchParams({transactionHash:t.transactionHash}).toString(),n=`${lt()}?${e}`,a=await(0,it.KI)(t.client)(n);if(!a.ok)throw a.body?.cancel(),new Error(`HTTP error! status: ${a.status}`);return(await a.json()).result}catch(t){throw pt.error("Fetch error:",t),new Error(`Fetch failed: ${t}`)}}async function wt(t){try{const e=new URLSearchParams;e.append("walletAddress",t.walletAddress),e.append("start",t.start.toString()),e.append("count",t.count.toString());const n=e.toString(),a=`${ht()}?${n}`,o=await(0,it.KI)(t.client)(a);if(!o.ok)throw o.body?.cancel(),new Error(`HTTP error! status: ${o.status}`);return(await o.json()).result}catch(t){throw new Error(`Fetch failed: ${t}`)}}function yt(t){return`0x${t.reduce(((t,e)=>t+e.replace("0x","")),"")}`}var bt=n(46481),Bt=n(77293);function kt(t,e){const n="string"==typeof e?{to:e}:e;switch(n.to){case"number":return It(t,n);case"bigint":return vt(t,n);case"boolean":return Tt(t,n);case"string":return At(t,n);default:return(0,i.EY)(t,n)}}function vt(t,e={}){void 0!==e.size&&(0,bt.S)(t,{size:e.size});const n=(0,i.EY)(t,e);return(0,i.uU)(n,e)}function Tt(t,e={}){let n=t;if(void 0!==e.size&&((0,bt.S)(n,{size:e.size}),n=(0,Bt.B)(n)),n.length>1||n[0]&&n[0]>1)throw new Error(`Invalid boolean representation: ${n}`);return Boolean(n[0])}function It(t,e={}){void 0!==e.size&&(0,bt.S)(t,{size:e.size});const n=(0,i.EY)(t,e);return(0,i.ME)(n,e)}function At(t,e={}){let n=t;return void 0!==e.size&&((0,bt.S)(n,{size:e.size}),n=(0,Bt.B)(n,{dir:"right"})),(new TextDecoder).decode(n)}var xt=n(92717),Pt=n(19001)},53255:(t,e,n)=>{n.d(e,{D:()=>o});var a=n(99280);async function o(t){const e=await t({method:"eth_blockNumber"});return(0,a.uU)(e)}},10560:(t,e,n)=>{n.r(e),n.d(e,{eth_estimateGas:()=>o});var a=n(99280);async function o(t,e){const n=await t({method:"eth_estimateGas",params:[e]});return(0,a.uU)(n)}},56175:(t,e,n)=>{n.d(e,{t:()=>o});var a=n(39862);async function o(t,e){const n=e.includeTransactions??!1,o=await t({method:"eth_getBlockByHash",params:[e.blockHash,n]});if(!o)throw new Error("Block not found");return(0,a.$)(o)}},44584:(t,e,n)=>{n.d(e,{I:()=>r});var a=n(6577),o=n(99280);async function r(t,e={}){const n=e.topics??[];let r;if(e.blockHash){const a={topics:n,blockHash:e.blockHash};e.address&&(a.address=e.address),r=await t({method:"eth_getLogs",params:[a]})}else{const a={topics:n};e.address&&(a.address=e.address),e.fromBlock&&(a.fromBlock="bigint"==typeof e.fromBlock?(0,o.cK)(e.fromBlock):e.fromBlock),e.toBlock&&(a.toBlock="bigint"==typeof e.toBlock?(0,o.cK)(e.toBlock):e.toBlock),r=await t({method:"eth_getLogs",params:[a]})}return r.map((t=>(0,a.e)(t)))}},21435:(t,e,n)=>{async function a(t,e){return await t({method:"eth_getStorageAt",params:[e.address,e.position,e.blockTag??"latest"]})}n.d(e,{D:()=>a})},87106:(t,e,n)=>{n.d(e,{S:()=>o});var a=n(39571);async function o(t,e){const n=await t({method:"eth_getTransactionByHash",params:[e.hash]});if(!n)throw new Error("Transaction not found.");return(0,a.uP)(n)}},53140:(t,e,n)=>{n.r(e),n.d(e,{eth_getTransactionCount:()=>o});var a=n(99280);async function o(t,e){const n=await t({method:"eth_getTransactionCount",params:[e.address,e.blockNumber?(0,a.cK)(e.blockNumber):e.blockTag||"pending"]});return(0,a.ME)(n)}},23058:(t,e,n)=>{n.d(e,{l:()=>c});var a=n(79756),o=n(6577),r=n(39571);const s={"0x0":"reverted","0x1":"success"};async function c(t,e){const n=await t({method:"eth_getTransactionReceipt",params:[e.hash]});if(!n)throw new Error("Transaction receipt not found.");return function(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map((t=>(0,o.e)(t))):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?(0,a.ME)(t.transactionIndex):null,status:t.status?s[t.status]:null,type:t.type?r.b4[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}(n)}},75450:(t,e,n)=>{n.d(e,{q:()=>h});var a=n(53255),o=n(36223);const r=5e3,s=1e3,c=500,i=2,u=10;function l(t,e,n){let l,d,h=[],m=[],f=!1;const p=(0,o.getRpcClient)({client:t,chain:e});async function g(){if(!f)return;const t=await(0,a.D)(p);if(!l||t>l){let e=[];if(l)for(let n=l+1n;n<=t;n++)e.push(BigInt(n));else e=[t];l=t;const n=(new Date).getTime();if(d){const t=(n-d)/e.length;m.push(t),m=m.slice(-u)}d=n;for(const t of e)for(const e of h)e(t)}const e=function(t){for(;t.length<u;)t.unshift(s);return t.reduce(((t,e)=>t+e),0)/t.length}(m),o=Math.max(c,Math.min(r,Math.max(c,e)));var w;await(w=o/(n??i),new Promise((t=>setTimeout(t,w)))),g()}return function(t,e){return h.push(t),f||(l=e,f=!0,g()),function(){h=h.filter((e=>e!==t)),0===h.length&&(l=void 0,d=void 0,f=!1)}}}const d=new Map;function h(t){const{client:e,chain:n,onNewBlockNumber:a,overPollRatio:o,latestBlockNumber:r}=t,s=n.id;let c=d.get(s);return c||(c=l(e,n,o),d.set(s,c)),c(a,r)}},50099:(t,e,n)=>{n.d(e,{L:()=>i});var a=n(23058),o=n(36223),r=n(75450);const s=30,c=new Map;function i(t){const{transactionHash:e,chain:n,client:i}=t,u=`${n.id}:tx_${e}`,l=t.maxBlocksWaitTime??s;if(c.has(u))return c.get(u);const d=new Promise(((t,s)=>{e||s(new Error("Transaction has no transactionHash to wait for, did you execute it?"));const c=(0,o.getRpcClient)({client:i,chain:n});let u=-1;const d=(0,r.q)({client:i,chain:n,onNewBlockNumber:async()=>{if(u++,u>=l)return d(),void s(new Error(`Transaction not found after ${l} blocks`));try{const n=await(0,a.l)(c,{hash:e});d(),t(n)}catch{}}})})).finally((()=>{c.delete(u)}));return c.set(u,d),d}},65176:(t,e,n)=>{function a(t,e=[]){return function(t){return"object"==typeof t&&null!==t}(t)&&e.every((e=>e in t))}n.d(e,{C:()=>a})},6577:(t,e,n)=>{function a(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}n.d(e,{e:()=>a})}}]);