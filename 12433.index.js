"use strict";(self.webpackChunkexample=self.webpackChunkexample||[]).push([[12433],{29114:(e,t,n)=>{n.d(t,{p:()=>d});var r=n(37663),a=n(96943),i=n(62518),s=n(20863),o=n(32634),c=n(27438);const u="/docs/contract/decodeEventLog";function l({param:e,value:t}){return"string"===e.type||"bytes"===e.type||"tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/)?t:((0,o.n)([e],t)||[])[0]}function d(e){const{logs:t,events:n,strict:d}=e;return function({abi:e,eventName:t,logs:n,strict:d=!0}){return n.map((n=>{try{const p=function(e){const{abi:t,data:n,strict:d,topics:p}=e,f=d??!0,[m,...y]=p;if(!m)throw new r._z({docsPath:u});const g=t.find((e=>"event"===e.type&&m===(0,i.h)((0,c.B)(e))));if(!g||!("name"in g)||"event"!==g.type)throw new r.kE(m,{docsPath:u});const{name:h,inputs:P}=g,b=P?.some((e=>!("name"in e&&e.name)));let v=b?[]:{};const x=P.filter((e=>"indexed"in e&&e.indexed));for(let e=0;e<x.length;e++){const t=x[e],n=y[e];if(!n)throw new r.l3({abiItem:g,param:t});v[b?e:t.name||e]=l({param:t,value:n})}const w=P.filter((e=>!("indexed"in e&&e.indexed)));if(w.length>0)if(n&&"0x"!==n)try{const e=(0,o.n)(w,n);if(e)if(b)v=[...v,...e];else for(let t=0;t<w.length;t++)v[w[t].name]=e[t]}catch(e){if(f){if(e instanceof r.Iy||e instanceof s.SK)throw new r.fo({abiItem:g,data:n,params:w,size:(0,a.E)(n)});throw e}}else if(f)throw new r.fo({abiItem:g,data:"0x",params:w,size:0});return{eventName:h,args:Object.values(v).length>0?v:void 0}}({...n,abi:e,strict:d});return t&&!t.includes(p.eventName)?null:{...p,...n}}catch(e){let t,a;if(e instanceof r.kE)return null;if(e instanceof r.fo||e instanceof r.l3){if(d)return null;t=e.abiItem.name,a=e.abiItem.inputs?.some((e=>!("name"in e&&e.name)))}return{...n,args:a?[]:{},eventName:t}}})).filter(Boolean)}({logs:t,abi:n.map((e=>e.abiEvent)),strict:d})}},47981:(e,t,n)=>{n.d(t,{m:()=>w});var r=n(92105),a=n(11824),i=n(37663),s=n(16308);class o extends s.C{constructor(e){super(`Filter type "${e}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}var c=n(62421),u=n(92517),l=n(62518),d=n(58470),p=n(27438),f=n(23785),m=n(95068),y=n(77190);function g(e,t){const n=typeof e,r=t.type;switch(r){case"address":return(0,m.P)(e,{strict:!1});case"bool":return"boolean"===n;case"function":case"string":return"string"===n;default:return"tuple"===r&&"components"in t?Object.values(t.components).every(((t,n)=>g(Object.values(e)[n],t))):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?"number"===n||"bigint"===n:/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?"string"===n||e instanceof Uint8Array:!!/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)&&Array.isArray(e)&&e.every((e=>g(e,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})))}}function h(e,t,n){for(const r in e){const a=e[r],i=t[r];if("tuple"===a.type&&"tuple"===i.type&&"components"in a&&"components"in i)return h(a.components,i.components,n[r]);const s=[a.type,i.type];if(s.includes("address")&&s.includes("bytes20")||(s.includes("address")&&s.includes("string")||s.includes("address")&&s.includes("bytes"))&&(0,m.P)(n[r],{strict:!1}))return s}}const P="/docs/contract/encodeEventTopics";function b(e){const{abi:t,eventName:n,args:r}=e;let a=t[0];if(n){const e=function(e){const{abi:t,args:n=[],name:r}=e,a=(0,f.q)(r,{strict:!1}),s=t.filter((e=>a?"function"===e.type?(0,y.V)(e)===r:"event"===e.type&&(0,l.h)(e)===r:"name"in e&&e.name===r));if(0===s.length)return;if(1===s.length)return s[0];let o;for(const e of s)if("inputs"in e)if(n&&0!==n.length){if(e.inputs&&0!==e.inputs.length&&e.inputs.length===n.length&&n.every(((t,n)=>{const r="inputs"in e&&e.inputs[n];return!!r&&g(t,r)}))){if(o&&"inputs"in o&&o.inputs){const t=h(e.inputs,o.inputs,n);if(t)throw new i.nM({abiItem:e,type:t[0]},{abiItem:o,type:t[1]})}o=e}}else if(!e.inputs||0===e.inputs.length)return e;return o||s[0]}({abi:t,name:n});if(!e)throw new i.M_(n,{docsPath:P});a=e}if("event"!==a.type)throw new i.M_(void 0,{docsPath:P});const s=(0,p.B)(a),o=(0,l.h)(s);let c=[];if(r&&"inputs"in a){const e=a.inputs?.filter((e=>"indexed"in e&&e.indexed)),t=Array.isArray(r)?r:Object.values(r).length>0?e?.map((e=>r[e.name]))??[]:[];t.length>0&&(c=e?.map(((e,n)=>Array.isArray(t[n])?t[n].map(((r,a)=>v({param:e,value:t[n][a]}))):t[n]?v({param:e,value:t[n]}):null))??[])}return[o,...c]}function v({param:e,value:t}){if("string"===e.type||"bytes"===e.type)return(0,u.S)((0,c.ZJ)(t));if("tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/))throw new o(e.type);return(0,d.h)([e],[t])}var x=n(10537);function w(e){const{signature:t}=e;let n;return n=(0,x.N)(t)?t:(0,r.$)(t),{abiEvent:n,hash:(0,a.k)(n),topics:b({abi:[n],args:e.filters})}}},10537:(e,t,n)=>{function r(e){return!(!e||"object"!=typeof e||!("type"in e)||"event"!==e.type)}n.d(t,{N:()=>r})},17371:(e,t,n)=>{n.d(t,{G:()=>f,Y:()=>p});var r=n(94266),a=n(89845),i=n(36223),s=n(23903),o=n(79938),c=n(79113);async function u(e){const{client:t,chain:n,percentMultiplier:r}=e,a=(0,i.getRpcClient)({client:t,chain:n}),s=await(0,c.r)(a);return s+(r?s/BigInt(100)*BigInt(r):0n)}var l=n(38782),d=n(4364);async function p(e){const[t,n,r]=await Promise.all([(0,s.r)(e.maxFeePerGas),(0,s.r)(e.maxPriorityFeePerGas),(0,s.r)(e.gasPrice)]);if(r)return{gasPrice:r};if(t&&n)return{maxFeePerGas:t,maxPriorityFeePerGas:n};const a=await f(e.client,e.chain);return e.chain.experimental?.increaseZeroByteCount?a.gasPrice?{gasPrice:(0,l.d)(a.gasPrice)}:{maxFeePerGas:t??(0,l.d)(a.maxFeePerGas??0n),maxPriorityFeePerGas:n??(0,l.d)(a.maxPriorityFeePerGas??0n)}:a.gasPrice?a:{maxFeePerGas:t??a.maxFeePerGas,maxPriorityFeePerGas:n??a.maxPriorityFeePerGas}}async function f(e,t){const n=await async function(e,t){let n=null,s=null;const c=(0,i.getRpcClient)({client:e,chain:t}),[u,l]=await Promise.all([(0,r.w)(c,{blockTag:"latest"}),(0,a.H)(c).catch((()=>null))]),p=u?.baseFeePerGas?u.baseFeePerGas:100n,f=t.id;return 220===f||1220===f?{maxFeePerGas:null,maxPriorityFeePerGas:null}:(80001===f||137===f?s=await async function(e){const t=function(e){switch(e){case 137:return"https://gasstation.polygon.technology/v2";case 80001:return"https://gasstation-testnet.polygon.technology/v2"}}(e);try{const e=(await(await fetch(t)).json()).fast.maxPriorityFee;if(e>0){const t=Number.parseFloat(e).toFixed(9);return(0,o.J1)(t,9)}}catch(e){d.error("failed to fetch gas",e)}return function(e){switch(e){case 137:return m;case 80001:return y}}(e)}(f):l&&(s=l),s?(s=function(e,t=10){return e+e/BigInt(100)*BigInt(t)}(s),n=2n*p+s,(42220===f||44787===f||62320===f)&&(s=n),{maxFeePerGas:n,maxPriorityFeePerGas:s}):{maxFeePerGas:null,maxPriorityFeePerGas:null})}(e,t);return n.maxFeePerGas&&n.maxPriorityFeePerGas?{maxFeePerGas:n.maxFeePerGas,maxPriorityFeePerGas:n.maxPriorityFeePerGas}:{gasPrice:await u({client:e,chain:t,percentMultiplier:10})}}const m=31n,y=1n},38782:(e,t,n)=>{function r(e){if(0n===e||0n===(e&e-1n))return e;let t=1n;for(;e>0n;)e>>=1n,t<<=1n;return t}n.d(t,{d:()=>r})},79113:(e,t,n)=>{n.d(t,{r:()=>a});var r=n(99280);async function a(e){const t=await e({method:"eth_gasPrice"});return(0,r.uU)(t)}},94266:(e,t,n)=>{n.d(t,{w:()=>i});var r=n(39862),a=n(99280);async function i(e,t){const n=t.blockTag??"latest",i=t.includeTransactions??!1,s=void 0!==t.blockNumber?(0,a.cK)(t.blockNumber):void 0,o=await e({method:"eth_getBlockByNumber",params:[s||n,i]});if(!o)throw new Error("Block not found");return(0,r.$)(o)}},89845:(e,t,n)=>{n.d(t,{H:()=>a});var r=n(99280);async function a(e){const t=await e({method:"eth_maxPriorityFeePerGas"});return(0,r.uU)(t)}},20408:(e,t,n)=>{n.d(t,{encode:()=>a});const r=new WeakMap;async function a(e){if(r.has(e))return r.get(e);const t=(async()=>{if(void 0===e.data)return"0x";if("function"==typeof e.data){return await e.data()||"0x"}return e.data})();return r.set(e,t),t}},49255:(e,t,n)=>{n.d(t,{m:()=>u});var r=n(92105),a=n(27956),i=n(76465),s=n(23903),o=n(4558),c=n(34921);function u(e){const{contract:t,method:n,params:u,...l}=e,d=()=>(async()=>{if(Array.isArray(n))return n;if((0,c.d)(n))return(0,i.v)(n);if("function"==typeof n)return(0,i.v)(await n(t));if("string"==typeof n&&n.startsWith("function ")){const e=(0,r.$)(n);if("function"===e.type)return(0,i.v)(e);throw new Error('"method" passed is not of type "function"')}if(t.abi&&t.abi?.length>0){const e=t.abi?.find((e=>"function"===e.type&&e.name===n));if(e)return(0,i.v)(e)}throw new Error(`Could not resolve method "${n}".`)})();return(0,o.prepareTransaction)({...l,to:t.address,chain:t.chain,client:t.client,data:async()=>{let e;return e=Array.isArray(n)?n:await d(),0===e[1].length?e[0]:e[0]+(0,a.encodeAbiParameters)(e[1],await(0,s.r)(u??[])).slice(2)}},{preparedMethod:d,contract:t})}},4558:(e,t,n)=>{function r(e,t){return t&&(e.__preparedMethod=t.preparedMethod,e.__contract=t.contract),e}n.r(t),n.d(t,{prepareTransaction:()=>r})},23903:(e,t,n)=>{async function r(e){return"function"==typeof e?await e():e}n.d(t,{r:()=>r})},63117:(e,t,n)=>{n.d(t,{W:()=>l});const r={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},a={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};var i=n(37663),s=n(65846),o=n(77190),c=n(32634),u=n(27438);function l(e){const{abi:t,data:n}=e,l=(0,s.di)(n,0,4);if("0x"===l)throw new i.O;const d=[...t||[],r,a].find((e=>"error"===e.type&&l===(0,o.V)((0,u.B)(e))));if(!d)throw new i.Wq(l,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:d,args:"inputs"in d&&d.inputs&&d.inputs.length>0?(0,c.n)(d.inputs,(0,s.di)(n,4)):void 0,errorName:d.name}}},39862:(e,t,n)=>{n.d(t,{$:()=>a});var r=n(39571);function a(e){const t=e.transactions?.map((e=>"string"==typeof e?e:(0,r.uP)(e)));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}},39571:(e,t,n)=>{n.d(t,{b4:()=>a,uP:()=>i});var r=n(79756);const a={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844"};function i(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?(0,r.ME)(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?(0,r.ME)(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?a[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if("bigint"==typeof t.v){if(0n===t.v||27n===t.v)return 0;if(1n===t.v||28n===t.v)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),"legacy"===t.type&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),"eip2930"===t.type&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),"eip1559"===t.type&&delete t.maxFeePerBlobGas,t}},62518:(e,t,n)=>{n.d(t,{h:()=>r});const r=n(11824).k}}]);